{"version":3,"sources":["webpack:///./src/components/common/songlist/SongList.vue?ec85","webpack:///./src/components/common/songlist/SongTable.vue?fde0","webpack:///src/components/common/songlist/SongTable.vue","webpack:///./src/components/common/songlist/SongTable.vue?17ab","webpack:///./src/components/common/songlist/SongTable.vue","webpack:///./src/components/common/songlist/SongCollect.vue?524b","webpack:///src/components/common/songlist/SongCollect.vue","webpack:///./src/components/common/songlist/SongCollect.vue?eb2b","webpack:///./src/components/common/songlist/SongCollect.vue","webpack:///./src/components/common/songlist/SongComment.vue?04f2","webpack:///src/components/common/songlist/SongComment.vue","webpack:///./src/components/common/songlist/SongComment.vue?e530","webpack:///./src/components/common/songlist/SongComment.vue","webpack:///src/components/common/songlist/SongList.vue","webpack:///./src/components/common/songlist/SongList.vue?f6c6","webpack:///./src/components/common/songlist/SongList.vue","webpack:///./src/components/common/songlist/SongTable.vue?c6b0","webpack:///./src/components/common/songlist/SongComment.vue?e593","webpack:///./src/components/common/songlist/SongCollect.vue?855a","webpack:///./src/components/common/songlist/SongList.vue?dec0"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","songList","coverImgUrl","_v","_s","name","trackCount","playCount","toFixed","creators","avatarUrl","nickname","_f","createTime","on","$event","playAll","id","stopPropagation","subscripe","subscribedCount","shareCount","_l","item","index","key","tags","length","staticStyle","description","substr","handleClick","model","value","callback","$$v","activeName","expression","load","count","gettalk","input","staticRenderFns","tableList","size","handleScroll","playMusicList","_e","preventDefault","addCollect","directives","rawName","isshow","wth1","wth2","wth3","props","doShow","type","Boolean","default","indexShow","anchorShow","numbers","Number","String","data","ids","nums","computed","methods","getMusicMenu","getMusicListIds","getMusicCount","getMusicUrl","getSongListInfoSongs","getSongListInfo","res","playlist","trackIds","forEach","created","parseInt","$route","params","watch","console","log","to","component","text","total","user","content","time","likedCount","comments","hotComments","filters","showDate","components","SongTable","SongCollect","SongComment","listenerFunction","window","addEventListener","top","mounted","document","beforeDestroy","removeEventListener","getnums"],"mappings":"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","file":"js/chunk-ca15a776.07f2ad95.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"table\",staticClass:\"songs\"},[_c('div',{staticClass:\"s-img\"},[_c('img',{attrs:{\"src\":_vm.songList.coverImgUrl,\"alt\":\"404\"}})]),_c('div',{staticClass:\"s-menu\"},[_c('div',{staticClass:\"title\"},[_c('div',[_c('span',{staticClass:\"tol\"},[_vm._v(\"歌单\")]),_c('span',{staticClass:\"title-a\"},[_vm._v(_vm._s(_vm.songList.name))])]),_c('div',{staticClass:\"r-nums\"},[_c('div',{staticClass:\"sums\"},[_vm._v(\" 歌曲数 \"),_c('p',[_vm._v(_vm._s(_vm.songList.trackCount))])]),_c('div',{staticClass:\"plays\"},[_vm._v(\" 播放数 \"),_c('p',[_vm._v(_vm._s((_vm.songList.playCount/10000).toFixed(0))+\"万\")])])])]),_c('div',{staticClass:\"time\"},[_c('a',{attrs:{\"href\":\"#\"}},[_c('img',{attrs:{\"src\":_vm.creators.avatarUrl,\"alt\":\"404\"}})]),_c('a',{staticClass:\"source\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.creators.nickname))]),_c('span',{staticClass:\"time-t\"},[_vm._v(_vm._s(_vm._f(\"showDate\")(_vm.songList.createTime))+\"创建\")])]),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-video-play\"},on:{\"click\":function($event){return _vm.playAll(_vm.songList.id)}}},[_vm._v(\" 播放全部 \"),_c('button',{staticClass:\"btn-a\",on:{\"click\":function($event){$event.stopPropagation();return _vm.subscripe(_vm.songList.id)}}},[_vm._v(\"+\")])]),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-star-off\"},on:{\"click\":function($event){return _vm.subscripe(_vm.songList.id)}}},[_vm._v(\"收藏(\"+_vm._s(_vm.songList.subscribedCount)+\")\")]),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-thumb\"}},[_vm._v(\"分享(\"+_vm._s(_vm.songList.shareCount)+\")\")]),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-download\"}},[_vm._v(\"下载全部\")])],1),_c('div',{staticClass:\"tag\"},[_c('span',[_vm._v(\"标签:\")]),_vm._l((_vm.songList.tags),function(item,index){return _c('a',{key:index,attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(index+1 === _vm.songList.tags.length ? item : item+' / '))])})],2),_c('div',{staticClass:\"brief\"},[_c('span',{staticStyle:{\"marginRight\":\"8px\"}},[_vm._v(\"简介:\")]),_c('span',{staticStyle:{\"lineHeight\":\"1.5\"}},[_vm._v(_vm._s((_vm.songList.description + '').substr(0,200) + '...'))])])]),_c('div',{staticClass:\"songstable\",staticStyle:{\"width\":\"90%\",\"marginTop\":\"20px\"}},[_c('el-tabs',{staticStyle:{\"marginLeft\":\"50px\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"歌曲列表\",\"name\":\"first\"}},[_c('SongTable',{attrs:{\"load\":_vm.load,\"numbers\":_vm.count}})],1),_c('el-tab-pane',{attrs:{\"label\":_vm.gettalk,\"name\":\"second\"}},[_c('SongComment')],1),_c('el-tab-pane',{attrs:{\"label\":\"收藏者\",\"name\":\"third\"}},[_c('SongCollect')],1)],1),_c('div',{staticClass:\"find\",staticStyle:{\"width\":\"180px\",\"height\":\"40px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"size\":\"mini\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableList,\"lazy\":true,\"size\":_vm.size},on:{\"&scroll\":function($event){return _vm.handleScroll($event)},\"row-click\":_vm.playMusicList}},[(_vm.indexShow)?_c('el-table-column',{attrs:{\"type\":\"index\"}}):_vm._e(),(_vm.doShow)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"70\"}},[_c('a',{staticClass:\"icon\",attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addCollect($event)}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isshow),expression:\"isshow\"}],staticClass:\"el-icon-star-off\"}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isshow),expression:\"!isshow\"}],staticClass:\"el-icon-star-on\"})]),_c('a',{staticClass:\"icon\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"el-icon-download\"})])]):_vm._e(),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"音乐标题\",\"width\":_vm.wth1}}),_c('el-table-column',{attrs:{\"prop\":\"ar[0].name\",\"label\":\"歌手\",\"width\":_vm.wth2}}),(_vm.anchorShow)?_c('el-table-column',{attrs:{\"prop\":\"al.name\",\"label\":\"专辑\"}}):_vm._e(),_c('el-table-column',{attrs:{\"prop\":\"dt\",\"label\":\"时长\",\"width\":_vm.wth3}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-table\r\n      :data=\"tableList\"\r\n      style=\"width: 100%\"\r\n      @scroll.passive=\"handleScroll\"\r\n      :lazy=\"true\"\r\n      @row-click=\"playMusicList\"\r\n      :size='size'\r\n    >\r\n      <el-table-column type=\"index\" v-if=\"indexShow\"></el-table-column>\r\n      <el-table-column  label=\"操作\" width=\"70\" v-if=\"doShow\">\r\n        <a href class=\"icon\" @click.prevent.stop=\"addCollect\">\r\n          <i class=\"el-icon-star-off\" v-show=\"isshow\"></i>\r\n          <i class=\"el-icon-star-on\" v-show=\"!isshow\"></i>\r\n        </a>\r\n        <a href=\"#\" class=\"icon\">\r\n          <i class=\"el-icon-download\"></i>\r\n        </a>\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"音乐标题\" :width=\"wth1\"></el-table-column>\r\n      <el-table-column prop=\"ar[0].name\" label=\"歌手\" :width=\"wth2\"></el-table-column>\r\n      <el-table-column prop=\"al.name\" label=\"专辑\" v-if=\"anchorShow\"></el-table-column>\r\n      <el-table-column prop=\"dt\" label=\"时长\" :width=\"wth3\" ></el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getSongListInfoSongs, getSongListInfo,getMusicUrl,getMusicMenu} from \"network/home\";\r\nimport {NOW_MUSICMENU, NOW_MUSIC,SET_COUNT} from '@/store/mutationType'\r\nimport { timeFormat } from \"common/uctil\";\r\nexport default {\r\n  name: \"SongTable\",\r\n  props: {\r\n    doShow: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    indexShow: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    anchorShow: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    load: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    numbers: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    wth1: {\r\n      type: Number,\r\n      default: 280,\r\n    },\r\n    wth2: {\r\n      type: Number,\r\n      default: 200,\r\n    },\r\n    wth3: {\r\n      type: Number,\r\n      default: 100,\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"small\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      tableList: [],\r\n      id: 0,\r\n      ids: [],\r\n      nums: 1,\r\n      isshow: true,\r\n    };\r\n  },\r\n  computed:{\r\n     ...mapGetters([\"getMusicListIds\",\"getMusicCount\"]),\r\n  },\r\n  methods: {\r\n    // 播放音乐\r\n    playMusicList(row) {\r\n      // console.log(row.id);\r\n      // console.log(row.num);\r\n       if(row.id === null) return\r\n       //判断是否已选择播放全部 \r\n       if(this.getMusicListIds.length > 0){\r\n         this.$store.commit(SET_COUNT,row.num-1);\r\n         this.getMusicUrl(this.getMusicListIds[this.getMusicCount]);\r\n        this.getMusicMenu(this.getMusicListIds[this.getMusicCount]);\r\n        return;\r\n       }\r\n        this.getMusicUrl(row.id);\r\n        this.getMusicMenu(row.id);\r\n    },\r\n    //加入收藏 暂时没完成\r\n    addCollect() {\r\n      this.isshow = !this.isshow;\r\n    },\r\n    //设置播放地址\r\n    getMusicUrl(id){\r\n        getMusicUrl(id).then(res => {\r\n            this.$store.commit(NOW_MUSIC,res.data[0].url);\r\n        })\r\n    },\r\n    //设置歌曲信息\r\n    getMusicMenu(id){\r\n        getMusicMenu(id).then(res =>{\r\n            this.$store.commit(NOW_MUSICMENU, res.songs[0]);\r\n        })\r\n    },\r\n    //通过歌曲id获取信息\r\n    getSongListInfoSongs(id) {\r\n      // if (this.numbers && this.load && this.nums - 1 === this.numbers) return;\r\n      // //数据过多时 记录未加载完的位置 后面监听滑动位置再重新请求一次\r\n      // if (this.numbers && this.load && this.nums - 1 !== this.numbers) {\r\n      //   let num = this.nums;\r\n      //   this.tableList = this.tableList.splice(0, num);\r\n      // }\r\n      getSongListInfoSongs(id)\r\n        .then((res) => {\r\n          //num后面用来和vuex中count对应\r\n          res.songs[0].num = this.nums++;\r\n          // 时间格式化  也可以加过滤 就要用到scope 其它页面有用到可以翻阅\r\n          res.songs[0].dt = timeFormat(res.songs[0].dt);\r\n          //每首歌的信息保存\r\n          this.tableList.push(res.songs[0]);\r\n        })\r\n    },\r\n    //根据歌单id获取其中的歌曲 因为接口中提供信息不完整 所以得拿到各个歌曲id再单独遍历获取信息\r\n    getSongListInfo(id) {\r\n      getSongListInfo(id).then((res) => {\r\n        res.playlist.trackIds.forEach((item) => {\r\n          //将该歌单中给所有歌曲的id放到一个数组中便于请求数据\r\n          this.ids.push(item.id);\r\n        });\r\n        this.ids.map((item) => {\r\n          this.getSongListInfoSongs(item);\r\n        });\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.id = parseInt(this.$route.params.id);\r\n    this.getSongListInfo(this.id);\r\n  },\r\n  watch: {\r\n    //观察父组件的滑动触发没有 触发了就执行重新请求一次数据\r\n    // load() {\r\n    //   console.log(\"该加载了\");\r\n    //   //大概就是获取之前的位置 再裁剪数据 后面剩下每加载的再重新请求一次\r\n    //   let num = this.nums;\r\n    //   this.ids.splice(0, num);\r\n    //   const arr = this.ids;\r\n    //   this.ids = this.ids.splice(0, num);\r\n    //   arr.map((item) => {\r\n    //     this.getSongListInfoSongs(item);\r\n    //   });\r\n    // },\r\n    // 监听id变化就重新渲染页面\r\n    $route: function (to, from) {\r\n      // 拿到目标参数 to.params.id 去再次请求数据接口\r\n      this.ids = [];\r\n      this.nums = 0;\r\n      this.tableList = [];\r\n      console.log(this.ids);\r\n      this.id = parseInt(to.params.id);\r\n     this.getSongListInfo(this.id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style  scoped>\r\n.icon i {\r\n  color: #ccc;\r\n  font-size: 17px;\r\n  margin-right: 5px;\r\n}\r\n.icon:hover i {\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongTable.vue?vue&type=template&id=650d5384&scoped=true&\"\nimport script from \"./SongTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SongTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongTable.vue?vue&type=style&index=0&id=650d5384&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"650d5384\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"collect\"},_vm._l((_vm.collects),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('img',{attrs:{\"src\":item.avatarUrl,\"alt\":\"404\"}}),_c('p',[_vm._v(_vm._s(item.nickname))])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"collect\">\r\n    <div class=\"item\" v-for=\"(item,index) in collects\" :key=\"index\">\r\n      <img :src='item.avatarUrl' alt='404' />\r\n      <p>{{item.nickname}}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getSongListCollect } from \"network/home\";\r\nexport default {\r\n    data(){\r\n        return{\r\n            collects:[],\r\n            id:0,\r\n        }\r\n    },\r\n    methods:{\r\n        //获取歌单收藏者信息\r\n        getSongListCollect(id){\r\n            getSongListCollect(id).then(res => {\r\n                // console.log(res.subscribers);\r\n                this.collects = res.subscribers;\r\n            })\r\n        }\r\n    },\r\n    created(){\r\n        this.id = parseInt(this.$route.params.id);\r\n        this.getSongListCollect(this.id);\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.collect{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    \r\n}\r\n.item{\r\n    width: 120px;\r\n    height: 120px;\r\n    margin: 10px;\r\n    overflow: hidden;\r\n    font-size: 13px;\r\n    color: red;\r\n    text-align: center;\r\n}\r\n.item img{\r\n    border-radius:50%;\r\n    width: 90px;\r\n    height: 90px;\r\n    margin-bottom: 9px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongCollect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongCollect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongCollect.vue?vue&type=template&id=554c5658&\"\nimport script from \"./SongCollect.vue?vue&type=script&lang=js&\"\nexport * from \"./SongCollect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongCollect.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment\"},[_c('div',{staticClass:\"myself\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请留下你的评论\",\"maxlength\":\"140\",\"show-word-limit\":\"\",\"resize\":\"none\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('el-button',{staticStyle:{\"float\":\"right\",\"marginTop\":\"5px\"},attrs:{\"size\":\"mini\"}},[_vm._v(\" 评论 \"),_c('i',{staticClass:\"el-icon-edit el-icon--right\"})])],1),_c('p',{staticStyle:{\"marginTop\":\"30px\",\"fontSize\":\"14px\"}},[_vm._v(\"最新评论(\"+_vm._s(_vm.total)+\")\")]),_vm._l((_vm.comments),function(item,index){return _c('div',{key:index,staticClass:\"newComment\"},[_c('div',{staticClass:\"userComment\"},[_c('div',{staticClass:\"userImg\"},[_c('img',{attrs:{\"src\":item.user.avatarUrl,\"alt\":\"404\"}}),_c('div',{staticClass:\"talk\"},[_c('a',{staticStyle:{\"color\":\"#0a63ab\",\"margin\":\"0 8px\"},attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(item.user.nickname)+\":\")]),_c('span',{staticStyle:{\"lineHeight\":\"1.5\"}},[_vm._v(_vm._s(item.content))]),_c('p',{staticStyle:{\"margin\":\"0 8px\"}},[_vm._v(_vm._s(_vm._f(\"showDate\")(item.time)))])])]),_c('div',{staticClass:\"doing\"},[_c('span',{staticClass:\"to\"},[_vm._v(\"举报!\")]),_c('span',[_c('i',{staticClass:\"el-icon-thumb\"}),_vm._v(_vm._s(item.likedCount > 0 ?(\"(\" + (item.likedCount) + \")\"):''))]),_vm._v(\"| \"),_c('span',[_vm._v(\"分享\")]),_vm._v(\"| \"),_c('span',[_vm._v(\"回复\")])])])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment\">\r\n    <div class=\"myself\">\r\n      <el-input\r\n        type=\"textarea\"\r\n        placeholder=\"请留下你的评论\"\r\n        v-model=\"text\"\r\n        maxlength=\"140\"\r\n        show-word-limit\r\n        resize=\"none\"\r\n      ></el-input>\r\n      <el-button size=\"mini\" style=\"float:right;marginTop:5px\">\r\n        评论\r\n        <i class=\"el-icon-edit el-icon--right\"></i>\r\n      </el-button>\r\n    </div>\r\n    <p style=\"marginTop:30px;fontSize:14px\">最新评论({{total}})</p>\r\n    <div class=\"newComment\" v-for=\"(item,index) in comments\" :key=\"index\">\r\n      <div class=\"userComment\">\r\n        <div class=\"userImg\">\r\n          <img :src=\"item.user.avatarUrl\" alt=\"404\" />\r\n          <div class=\"talk\">\r\n            <a href=\"#\" style=\"color:#0a63ab;margin:0 8px\">{{ item.user.nickname }}:</a>\r\n            <span style=\"lineHeight:1.5\">{{ item.content }}</span>\r\n            <p style=\"margin:0 8px\">{{item.time | showDate}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"doing\">\r\n          <span  class=\"to\">举报!</span>\r\n          <span><i class=\"el-icon-thumb\"></i>{{ item.likedCount > 0 ?`(${ item.likedCount})`:'' }}</span>|\r\n          <span>分享</span>|\r\n          <span>回复</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {  getSongListComment } from \"network/home\";\r\nimport { formatDate } from \"common/uctil\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      text: \"\",\r\n      id:0,\r\n      comments:[],\r\n      hotComments:[],\r\n      total:0,\r\n    };\r\n  },\r\n  methods:{\r\n    //获取评论数据\r\n      getSongListComment(id){\r\n          getSongListComment(id).then(res => {\r\n              // console.log(res);\r\n              this.hotComments = res.hotComments;\r\n              this.comments = [...res.hotComments,...res.comments];\r\n              this.total = res.total;\r\n          })\r\n      }\r\n  },\r\n  created(){\r\n      this.id = parseInt(this.$route.params.id);\r\n      this.getSongListComment(this.id);\r\n  },\r\n  filters: {\r\n    showDate: function (value) {\r\n      let date = new Date(value);\r\n      return formatDate(date, \"yyyy-MM-dd hh:mm:ss\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.comment{\r\n    padding-bottom:20px ;\r\n}\r\n.doing{\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    font-size: 12px;\r\n    color: #999;\r\n}\r\n.doing span{\r\n    margin: 0 8px;\r\n    cursor: pointer;\r\n}\r\n.newComment:hover span.to{\r\n    display: inline-block;\r\n}\r\n.to{\r\n    display: none;\r\n    cursor: pointer;\r\n}\r\n.talk span,.talk a{\r\n   position: relative;\r\n   top: -8px;\r\n}\r\n.myself {\r\n  padding: 20px 0 40px 0;\r\n  background: #f0f0f2;\r\n}\r\n.newComment {\r\n  margin-top: 10px;\r\n  font-size: 13px;\r\n  position: relative;\r\n}\r\n.userComment {\r\n  margin-top: 5px;\r\n  border-top: 1px solid #f0f0f2;\r\n  padding: 15px 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.userImg {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.userImg img {\r\n  width: 46px;\r\n  height: 46px;\r\n  border-radius: 50%;\r\n  margin-right: 5px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongComment.vue?vue&type=template&id=4f2fcef2&\"\nimport script from \"./SongComment.vue?vue&type=script&lang=js&\"\nexport * from \"./SongComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongComment.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"songs\" ref=\"table\">\r\n    <div class=\"s-img\">\r\n      <img :src=\"songList.coverImgUrl\" alt=\"404\" />\r\n    </div>\r\n    <div class=\"s-menu\">\r\n      <div class=\"title\">\r\n        <div>\r\n          <span class=\"tol\">歌单</span>\r\n          <span class=\"title-a\">{{songList.name}}</span>\r\n        </div>\r\n        <div class=\"r-nums\">\r\n          <div class=\"sums\">\r\n            歌曲数\r\n            <p>{{songList.trackCount}}</p>\r\n          </div>\r\n          <div class=\"plays\">\r\n            播放数\r\n            <p>{{(songList.playCount/10000).toFixed(0)}}万</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"time\">\r\n        <a href=\"#\">\r\n          <img :src=\"creators.avatarUrl\" alt=\"404\" />\r\n        </a>\r\n        <a href=\"#\" class=\"source\">{{creators.nickname}}</a>\r\n        <span class=\"time-t\">{{songList.createTime | showDate}}创建</span>\r\n      </div>\r\n      <div class=\"btn\">\r\n        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-video-play\"  @click=\"playAll(songList.id)\">\r\n          播放全部\r\n          <button class=\"btn-a\"  @click.stop=\"subscripe(songList.id)\">+</button>\r\n        </el-button>\r\n        <el-button\r\n          size=\"small\"\r\n          icon=\"el-icon-star-off\"\r\n          @click=\"subscripe(songList.id)\"\r\n        >收藏({{songList.subscribedCount}})</el-button>\r\n        <el-button size=\"small\" icon=\"el-icon-thumb\">分享({{songList.shareCount}})</el-button>\r\n        <el-button size=\"small\" icon=\"el-icon-download\">下载全部</el-button>\r\n      </div>\r\n      <div class=\"tag\">\r\n        <span>标签:</span>\r\n        <a\r\n          href=\"#\"\r\n          v-for=\"(item,index) in songList.tags\"\r\n          :key=\"index\"\r\n        >{{index+1 === songList.tags.length ? item : item+' / '}}</a>\r\n      </div>\r\n      <div class=\"brief\">\r\n        <span style=\"marginRight:8px\">简介:</span>\r\n        <span style=\"lineHeight:1.5\">{{(songList.description + '').substr(0,200) + '...' }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"songstable\" style=\"width:90%;marginTop:20px;\">\r\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\" style=\"marginLeft:50px;\">\r\n        <el-tab-pane label=\"歌曲列表\" name=\"first\">\r\n          <SongTable :load=\"load\" :numbers=\"count\"></SongTable>\r\n        </el-tab-pane>\r\n        <el-tab-pane :label=\"gettalk\" name=\"second\">\r\n          <SongComment></SongComment>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"收藏者\" name=\"third\">\r\n          <SongCollect></SongCollect>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n      <div class=\"find\" style=\"width:180px;height:40px;\">\r\n        <el-input v-model=\"input\" placeholder=\"请输入内容\" size=\"mini\" suffix-icon=\"el-icon-search\"></el-input>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SongTable from \"./SongTable\";\r\nimport SongCollect from \"./SongCollect\";\r\nimport SongComment from \"./SongComment\";\r\nimport { formatDate } from \"common/uctil\";\r\nimport { getSongListInfo} from \"network/home\";\r\nimport {MUSIC_LISTIDS} from '@/store/mutationType'\r\nexport default {\r\n  name: \"SongList\",\r\n  components: {\r\n    SongTable,\r\n    SongCollect,\r\n    SongComment,\r\n  },\r\n  data() {\r\n    return {\r\n      id: 0,\r\n      ids: [],\r\n      songList: {},\r\n      creators: {},\r\n      activeName: \"first\",\r\n      input: \"\",\r\n      load: false,\r\n      count: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    //播放全部\r\n    playAll(id){\r\n      // console.log(id);\r\n      // console.log(this.ids);\r\n      //修改vuex的歌单id数据\r\n       this.$store.commit(MUSIC_LISTIDS,this.ids);\r\n      // this.getSongListInfoSongs(id);\r\n    },\r\n    //列表切换\r\n    handleClick(tab, event) {\r\n      // console.log(tab, event);\r\n    },\r\n    //获取歌单数据\r\n    getSongListInfo(id) {\r\n      getSongListInfo(id).then((res) => {\r\n        this.songList = res.playlist;\r\n        this.creators = res.playlist.creator;\r\n        //遍历数组把得到歌曲id放到一个数据里面\r\n        this.songList.trackIds.forEach((item) => {\r\n          this.ids.push(item.id);\r\n          this.count = this.songList.trackCount;\r\n        });\r\n        // console.log(this.songList);\r\n        // this.currentSongList = { ...res};\r\n      });\r\n    },\r\n    // 收藏 暂无\r\n    subscripe(id) {\r\n      console.log(id);\r\n    },\r\n    //添加监听滚动条滚动事件\r\n    listenerFunction(e) {\r\n      window.addEventListener(\"scroll\", this.handleScroll, true);\r\n    },\r\n    //判断到达一定高度时触发刷新 因为有时数据过多加载较慢 可能加载不完\r\n    handleScroll() {\r\n      let top = this.$refs.table.scrollTop;\r\n      if (top > 700) {\r\n        this.load = true;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    // console.log(\"进入\");\r\n    //进入添加\r\n    document.addEventListener(\"scroll\", this.handleScroll, true);\r\n  },\r\n  beforeDestroy() {\r\n    // console.log(\"离开了\");\r\n    //离开清除 不然耗性能\r\n    document.removeEventListener(\"scroll\", this.handleScroll, true);\r\n  },\r\n  computed: {\r\n    //获取评论数\r\n    gettalk() {\r\n      return `评论(${this.songList.commentCount})`;\r\n    },\r\n    getnums() {\r\n      return this.songList.trackCount;\r\n    },\r\n  },\r\n  created() {\r\n    this.id = parseInt(this.$route.params.id);\r\n    this.getSongListInfo(this.id);\r\n    // console.log(\"生效了\");\r\n    // this.listenerFunction();\r\n  },\r\n  filters: {\r\n    //日期过滤\r\n    showDate: function (value) {\r\n      let date = new Date(value);\r\n      return formatDate(date, \"yyyy-MM-dd\");\r\n    },\r\n  },\r\n  watch: {\r\n    // 利用watch方法检测路由变化：\r\n    $route: function (to, from) {\r\n      // 拿到目标参数 to.params.id 去再次请求数据接口\r\n      console.log(to.params.id);\r\n      this.id = parseInt(to.params.id);\r\n     this.getSongListInfo(this.id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.songs {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  max-height: 680px;\r\n  overflow: auto;\r\n  padding-top: 30px;\r\n}\r\n.songstable {\r\n  position: relative;\r\n}\r\n.find {\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 0;\r\n}\r\n.brief {\r\n  font-size: 13px;\r\n  margin-top: 15px;\r\n}\r\n.tag {\r\n  margin-top: 15px;\r\n  font-size: 13px;\r\n}\r\n.tag span {\r\n  margin-right: 8px;\r\n}\r\n.tag a {\r\n  color: #0c73c2;\r\n}\r\n.btn {\r\n  margin-top: 15px;\r\n}\r\n.btn-a {\r\n  background: #409eff;\r\n  cursor: pointer;\r\n  border: none;\r\n  color: #fff;\r\n}\r\n.time {\r\n  margin-top: 15px;\r\n}\r\n.time-t {\r\n  font-size: 13px;\r\n  color: #333;\r\n}\r\n.time img {\r\n  border-radius: 50%;\r\n  width: 28px;\r\n  margin-right: 8px;\r\n  vertical-align: middle;\r\n}\r\n.source {\r\n  color: rgba(0, 0, 255, 0.7);\r\n  margin-right: 8px;\r\n}\r\n.source:hover {\r\n  color: blue;\r\n}\r\n.s-img {\r\n  width: 20%;\r\n  margin: 0 20px;\r\n}\r\n.s-img img {\r\n  width: 100%;\r\n}\r\n.s-menu {\r\n  width: 70%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.title {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.tol {\r\n  border: 1px solid red;\r\n  font-size: 14px;\r\n  color: red;\r\n  padding: 2px;\r\n  margin-right: 7px;\r\n}\r\n.title-a {\r\n  font-size: 23px;\r\n  font-weight: 10px;\r\n}\r\n.r-nums {\r\n  display: flex;\r\n  color: #ccc;\r\n  font-size: 14px;\r\n  min-width: 110px;\r\n  min-height: 30px;\r\n}\r\n.sums {\r\n  border-right: 1px solid #ccc;\r\n  padding-right: 8px;\r\n  position: relative;\r\n}\r\n.plays {\r\n  position: relative;\r\n  padding-left: 15px;\r\n}\r\n.sums p {\r\n  position: absolute;\r\n  right: 8px;\r\n  top: 17px;\r\n}\r\n.plays p {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 17px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongList.vue?vue&type=template&id=2b6925bd&scoped=true&\"\nimport script from \"./SongList.vue?vue&type=script&lang=js&\"\nexport * from \"./SongList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongList.vue?vue&type=style&index=0&id=2b6925bd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b6925bd\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=style&index=0&id=650d5384&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=style&index=0&id=650d5384&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongComment.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongComment.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongCollect.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongCollect.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&id=2b6925bd&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&id=2b6925bd&scoped=true&lang=css&\""],"sourceRoot":""}